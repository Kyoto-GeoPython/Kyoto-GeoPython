<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Numpyを使う際の注意点</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115860818-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-115860818-2');
  </script>

  <link rel="stylesheet" type="text/css" href="/css/nb-000.css">
  <link rel="stylesheet" type="text/css" href="/css/nb-001.css">
  <link rel="stylesheet" type="text/css" href="/css/nb-002.css">

	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" type="text/css" href="/css/nb-base.css">

  <!-- Loading mathjax macro -->
  <!-- Load mathjax -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
  <!-- MathJax configuration -->
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          processEnvironments: true
      },
      // Center justify equations in code and markdown cells. Elsewhere
      // we use CSS to left justify single line equations in code cells.
      displayAlign: 'center',
      "HTML-CSS": {
          styles: {'.MathJax_Display': {"margin": 0}},
          linebreaks: { automatic: true }
      }
  });
  </script>
  <!-- End of mathjax configuration -->
</head>
<body>

  <div tabindex="-1" id="notebook" class="border-box-sizing">

    <div class="top-button-container">
      <div class="w3-panel w3-left">
        <h4><a class="w3-button w3-black" href='/'>トップページに戻る</a></h4>
      </div>
    </div>

    <div class="w3-container center-container">
      <div class="container" id="notebook-container">
        <div class="w3-panel">
          <h1 class="w3-center">Numpyを使う際の注意点</h1> 
        </div> 

        <div class="w3-container">

  <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#30446;&#27425;">&#30446;&#27425;<a class="anchor-link" href="#&#30446;&#27425;">&#182;</a></h1><ul>
<li><a href="#Numpyとは？">Numpyとは？</a><ul>
<li><a href="#なぜNumpyが必要？">なぜNumpyが必要？</a></li>
<li><a href="#Numpyの特徴とは？">Numpyの特徴とは？</a></li>
<li><a href="#ndarrayオブジェクト">ndarrayオブジェクト</a></li>
<li><a href="#Numpyを使う際の注意点">Numpyを使う際の注意点</a></li>
</ul>
</li>
<li><a href="#実際に使ってみる">実際に使ってみる</a><ul>
<li><a href="#インポートする">インポートする</a></li>
<li><a href="#簡単な演算">簡単な演算</a></li>
<li><a href="#関数を使ってみよう">関数を使ってみよう</a><ul>
<li><a href="#np.reshape">np.reshape</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Numpyの基礎">Numpyの基礎</a><ul>
<li><a href="#ndarrayの生成関数">ndarrayの生成関数</a><ul>
<li><a href="#np.array,-np.asarray">np.array, np.asarray</a></li>
<li><a href="#np.arange">np.arange</a></li>
<li><a href="#np.ones,-np.ones_like">np.ones, np.ones_like</a></li>
<li><a href="#np.zeros,-np.zeros_like">np.zeros, np.zeros_like</a></li>
<li><a href="#np.linspace">np.linspace</a></li>
<li><a href="#np.eye,-np.identity">np.eye, np.identity</a></li>
</ul>
</li>
<li><a href="#ndarrayにおけるaxisとは">ndarrayにおけるaxisとは</a></li>
<li><a href="#Numpyのデータ型">Numpyのデータ型</a></li>
<li><a href="#インデックス参照">インデックス参照</a><ul>
<li><a href="#スライス">スライス</a></li>
<li><a href="#ファンシーインデックス参照">ファンシーインデックス参照</a></li>
</ul>
</li>
<li><a href="#ユニバーサル関数（ufunc）">ユニバーサル関数（ufunc）</a></li>
<li><a href="#ブロードキャスト">ブロードキャスト</a></li>
</ul>
</li>
<li><a href="#C言語ライブラリのラッパー">C言語ライブラリのラッパー</a><ul>
<li><a href="#線形代数（np.linalg）">線形代数（np.linalg）</a></li>
<li><a href="#乱数生成（np.random）">乱数生成（np.random）</a></li>
<li><a href="#フーリエ変換（np.fft）">フーリエ変換（np.fft）</a></li>
</ul>
</li>
<li><a href="#ndarrayのファイル入出力">ndarrayのファイル入出力</a><ul>
<li><a href="#npyとnpz形式でのバイナリ保存">npyとnpz形式でのバイナリ保存</a></li>
<li><a href="#テキストでの保存">テキストでの保存</a></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Numpy&#12392;&#12399;&#65311;">Numpy&#12392;&#12399;&#65311;<a class="anchor-link" href="#Numpy&#12392;&#12399;&#65311;">&#182;</a></h1><p><strong>Numpy</strong>は、標準の演算が遅いというPythonの欠点を補うために開発された高速なベクトル演算をサポートするライブラリです。<br>
Pythonで科学技術計算をする上では必須と言っても良いライブラリです。<br>
（本稿の大部分は、「<a href="https://www.oreilly.co.jp/books/9784873116556/">Pythonによるデータ分析入門</a>（O'REILLY）」の第４章を参考にして書かれています。<br>
この本は翻訳もわかりやすく、とても読みやすい本なのでおすすめです。）</p>
<h2 id="&#12394;&#12380;Numpy&#12364;&#24517;&#35201;&#65311;">&#12394;&#12380;Numpy&#12364;&#24517;&#35201;&#65311;<a class="anchor-link" href="#&#12394;&#12380;Numpy&#12364;&#24517;&#35201;&#65311;">&#182;</a></h2><p>C言語やFortranのような<strong>静的型付け言語（コンパイル時に型を決定する言語）</strong>では、配列や変数を宣言する際、型を明示的にコンパイラに伝えます。<br>
このようにコンパイルの段階で型が決まっていると、マシンとしては余計な動作をする必要が無いために効率よくメモリを使用できる上に高速に動作します。<br>
一方、Pythonのような<strong>動的型付け言語（実行時に型を決める言語）</strong>では、そのような高速な動作を失う代わりに、型を気にせずにリストに入れたり、宣言の手間が省けたりと、柔軟で短いコードが書けるようになります。<br>
しかし、科学技術計算においては動作の遅さは致命的になります。<br>
もしPythonで科学技術計算しようとするならば、高速な動作が必要になるところでは型を指定して高速な計算ができるようにする必要があります。<br>
そこで生まれたのが<strong>Numpy</strong>です（Numerical Pythonの略）。<br>
Numpyでは、C言語の配列をPythonで扱いやすいオブジェクト（ndarray）として使うことで、<strong>高速でありながら柔軟なプログラミング</strong>が可能です。<br>
また、CやFortranと同様に大規模配列を扱うことにも長けているため、使いこなせればかなり強力なツールです。<br>
Numpyは非常に高機能であり、全ての機能を1ページで説明することは難しいです。<br>
本稿では、詳しい実装には立ち入らず、とりあえず使えるようになることを目的としています。</p>
<h2 id="Numpy&#12398;&#29305;&#24500;&#12392;&#12399;&#65311;">Numpy&#12398;&#29305;&#24500;&#12392;&#12399;&#65311;<a class="anchor-link" href="#Numpy&#12398;&#29305;&#24500;&#12392;&#12399;&#65311;">&#182;</a></h2><p>ざっとNumpyの特徴を上げてみると、</p>
<ul>
<li>ベクトル演算をベースにした省メモリで高速な多次元配列（ndarrayオブジェクト）</li>
<li>行列演算（逆行列など）や乱数生成、フーリエ変換を簡単に呼び出せる</li>
<li>PythonとC, C++, Fortranとの連携を可能にする低級インターフェイスの提供</li>
<li>バイナリやテキストでのファイル入出力を簡単にできる</li>
</ul>
<p>のようなものがあります。<br>
行列演算などの実装はCやFortranで使われているライブラリを使用しており、同等の速度を発揮します。</p>
<h2 id="ndarray&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;">ndarray&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;<a class="anchor-link" href="#ndarray&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;">&#182;</a></h2><p>Numpyで配列と言うとき、たいていndarray（N-dimensional array）オブジェクトのことを指します。<br>
ndarrayはCの配列に加え、その形状や型、関数などを情報として持っています。<br>
本稿でも、特に断らない限り、配列はndarrayのことを意味することにします。</p>
<h2 id="Numpy&#12434;&#20351;&#12358;&#38555;&#12398;&#27880;&#24847;&#28857;">Numpy&#12434;&#20351;&#12358;&#38555;&#12398;&#27880;&#24847;&#28857;<a class="anchor-link" href="#Numpy&#12434;&#20351;&#12358;&#38555;&#12398;&#27880;&#24847;&#28857;">&#182;</a></h2><p>Numpyも万能ではなく、得意ではない処理もあります。それは、配列要素ごとに回すforループです。<br>
要素ごとにforループを回すと、Pythonの遅さが如実に出てしまい、Numpyの利点が活かせません。<br>
Numpyが本当に力を発揮するのは<strong>ベクトル演算</strong>であり、それは並列化によって実現されています。<br>
もし、要素ごとの計算をしたい場合は、</p>
<ul>
<li>CやFortranでその部分だけを書き、それをPythonで呼び出す</li>
<li>NumbaやCythonといった他のライブラリを使用しコンパイルを行う</li>
</ul>
<p>と言った方法があります。<br>
まずはなるべくベクトル化を試みて、それが難しい場合は上記のような手段を考えてみると良いでしょう。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#23455;&#38555;&#12395;&#20351;&#12387;&#12390;&#12415;&#12427;">&#23455;&#38555;&#12395;&#20351;&#12387;&#12390;&#12415;&#12427;<a class="anchor-link" href="#&#23455;&#38555;&#12395;&#20351;&#12387;&#12390;&#12415;&#12427;">&#182;</a></h1><h2 id="&#12452;&#12531;&#12509;&#12540;&#12488;&#12377;&#12427;">&#12452;&#12531;&#12509;&#12540;&#12488;&#12377;&#12427;<a class="anchor-link" href="#&#12452;&#12531;&#12509;&#12540;&#12488;&#12377;&#12427;">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>    <span class="c1">#慣習でnpと名付けることが多い</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>インポートに失敗する場合、numpyがそもそもインストールされていない可能性があります。その場合以下のようなコマンドを実行してください。</p>
<ul>
<li>Anacondaの場合「conda install numpy」</li>
<li>pipの場合「pip install numpy」</li>
</ul>
<p>condaはコンパイル済みのものをインストールするためにインストールエラーが起きにくいです。<br>
pipはインストール時にコンパイルするため、コンパイルエラーが起きる場合があります。</p>
<h2 id="ndarray&#12398;&#27083;&#36896;">ndarray&#12398;&#27083;&#36896;<a class="anchor-link" href="#ndarray&#12398;&#27083;&#36896;">&#182;</a></h2><p>さっそく、一次元配列を作ってみましょう。np.array関数にリストやタプルを渡すことで作ることが出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
<span class="n">x</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1.  ,  0.01,  0.7 ])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># xが何のオブジェクトか表示する</span>
<span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>numpy.ndarray</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># xの形状</span>
<span class="n">x</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(3,)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># xの型（この場合８バイト浮動小数点型）</span>
<span class="n">x</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;float64&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># xの次元</span>
<span class="n">x</span><span class="o">.</span><span class="n">ndim</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ndarrayの重要な属性として、<strong>shape</strong>、<strong>dtype</strong>があります。<br>
<strong>shape</strong>は、まさに配列の形状で、多次元配列であれば、軸に沿った要素の個数をそれぞれの軸について並べたタプルです。一次元であれば、(n,)のようなタプルになります。タプルの要素が一つしか含まれない場合、(n)とすると単なるnになってしまうので、(n,)のようにカンマを付ける必要があります。<br>
<strong>dtype</strong>は、配列の型を表すものです（floatやint、complexなど）。<br>
<strong>ndim</strong>は、配列の次元を表します。 上の場合、１次元配列なのでndim=1です。<br>
<strong>type()</strong>はPythonの組み込み関数で、引数が何のオブジェクトかを教えてくれます（dtypeとは違うものなので注意）。<br>
いくつか例を挙げましょう。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>多次元配列はこのように定義できます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ２×３の２次元配列を定義</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">20.</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">]</span>
        <span class="p">])</span>
<span class="n">y</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[  1.  ,   0.1 ,   3.  ],
       [  3.  ,  20.  ,   0.07]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 形状</span>
<span class="n">y</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(2, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 型は１次元と同様</span>
<span class="n">y</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;float64&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 次元（つまりlen(y.shape)と等しい）</span>
<span class="n">y</span><span class="o">.</span><span class="n">ndim</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>2</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>整数を入れると、intとして配列を作ります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 整数を入れた場合</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">x</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([1, 2, 3])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 自動的に４バイトintと型推論している</span>
<span class="n">x</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;int32&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>もちろん複素数も扱えます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 複素数を入れた場合</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="n">j</span><span class="p">,</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">6</span><span class="n">j</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">x</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.+1.j,  3.+6.j,  9.+0.j])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 実部、虚部それぞれ８バイトの１６バイト複素数</span>
<span class="n">x</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;complex128&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="&#35201;&#32032;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;">&#35201;&#32032;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;<a class="anchor-link" href="#&#35201;&#32032;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;">&#182;</a></h3><p>また、各要素にアクセスするためには、リストやタプルのようにインデックスを指定します。<br>
多次元配列でのアクセスは、リストなどと違う記法なので注意してください。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,])</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># ==&gt; 1.0</span>

<span class="c1">#スライスも使える（小さいndarrayが返ってくる）</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c1"># ==&gt; [ 2.,  3.]</span>

<span class="c1"># 多次元配列の場合</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># ==&gt; [[ 0,  1,  2,  3,  4],</span>
<span class="c1">#          [ 5,  6,  7,  8,  9],</span>
<span class="c1">#          [10, 11, 12, 13, 14],</span>
<span class="c1">#          [15, 16, 17, 18, 19]]</span>
<span class="c1"># まず0~19までの一次元配列を作り、そのshapeを変更して４×５の２次元配列を作っている。</span>

<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#==&gt; 1</span>
<span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#==&gt; 9 （負のインデックスは後ろから数えたもの。x[1,4]と等価）</span>

<span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># １次元配列を取り出す</span>
<span class="c1"># ==&gt; [15, 16, 17, 18, 19]</span>

<span class="c1">#一つの軸でのスライスでは次元は変わらず、shapeだけが小さくなる（２×５の多次元配列に）。</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> 
<span class="c1"># ==&gt; [[10, 11, 12, 13, 14],</span>
<span class="c1">#          [15, 16, 17, 18, 19]]</span>

<span class="c1">#複数の軸でのスライスも可能。</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>  <span class="c1"># ２×２</span>
<span class="c1"># ==&gt; [[12, 13],</span>
<span class="c1">#          [17, 18]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[15]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[12, 13],
       [17, 18]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#31777;&#21336;&#12394;&#28436;&#31639;">&#31777;&#21336;&#12394;&#28436;&#31639;<a class="anchor-link" href="#&#31777;&#21336;&#12394;&#28436;&#31639;">&#182;</a></h2><p>スカラーとの四則演算は普通のベクトルのような書き方ができます（Fortranと一緒）。<br>
このような演算はリストやタプルでは出来ないので、そのためにndarrayに変換することもよくあります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
<span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># ==&gt; [ 2.  ,  1.01,  1.7 ]</span>
<span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="c1"># ==&gt; [ 2.  ,  0.02,  1.4 ]</span>
<span class="n">x</span> <span class="o">/</span> <span class="mf">1e5</span> <span class="c1"># ==&gt; [  1.00000000e-05,   1.00000000e-07,   7.00000000e-06]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[16]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  1.00000000e-05,   1.00000000e-07,   7.00000000e-06])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>同じ形状の配列同士の四則演算は、要素ごとに演算した結果になります。<br>
（異なる形状の配列であっても、場合によっては演算できることがあり、それを<a href="#ブロードキャスト"><strong>ブロードキャスト</strong></a>と言います）</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">8.</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">150</span><span class="p">])</span>
<span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="c1"># ==&gt; [  12. ,    0.5,  240. ]</span>
<span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="c1"># ==&gt; [  4. ,   0.1, -60. ]</span>
<span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="c1"># ==&gt; [  3.20000000e+01,   6.00000000e-02,   1.35000000e+04]</span>
<span class="n">x</span> <span class="o">/</span> <span class="n">y</span> <span class="c1"># ==&gt; [ 2. ,  1.5,  0.6]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 2. ,  1.5,  0.6])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>多次元配列でも同じように要素ごとの演算になります。<br>
行列積を計算したい場合は、np.dot関数を用いるか、Python3.5以降であれば@マークを使えます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ３×３行列を作成</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># ==&gt; [[0, 1, 2],</span>
<span class="c1">#          [3, 4, 5],</span>
<span class="c1">#          [6, 7, 8]]</span>

<span class="c1"># ３×３の単位行列の２倍</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>
<span class="c1"># ==&gt; [[ 2.,  0.,  0.],</span>
<span class="c1">#          [ 0.,  2.,  0.],</span>
<span class="c1">#          [ 0.,  0.,  2.]]</span>

<span class="c1"># 要素ごとの積になる</span>
<span class="n">A</span> <span class="o">*</span> <span class="n">B</span>
<span class="c1"># ==&gt; [[  0.,   0.,   0.],</span>
<span class="c1">#          [  0.,   8.,   0.],</span>
<span class="c1">#          [  0.,   0.,  16.]]</span>

<span class="c1"># 行列積</span>
<span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="c1"># ==&gt; [[  0.,   2.,   4.],</span>
<span class="c1">#          [  6.,   8.,  10.],        2*Aと等しくなっている</span>
<span class="c1">#          [ 12.,  14.,  16.]]</span>

<span class="c1"># ndarrayオブジェクトはdot関数を持っているため、このようにも書ける</span>
<span class="n">A</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="c1"># ==&gt; [[  0.,   2.,   4.],</span>
<span class="c1">#          [  6.,   8.,  10.],        2*Aと等しくなっている</span>
<span class="c1">#          [ 12.,  14.,  16.]]</span>

<span class="c1"># Python3.5以降であれば、行列積を@で記述可</span>
<span class="n">A</span> <span class="o">@</span> <span class="n">B</span>
<span class="c1"># ==&gt; [[  0.,   2.,   4.],</span>
<span class="c1">#          [  6.,   8.,  10.],</span>
<span class="c1">#          [ 12.,  14.,  16.]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[  0.,   2.,   4.],
       [  6.,   8.,  10.],
       [ 12.,  14.,  16.]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#38306;&#25968;&#12434;&#20351;&#12387;&#12390;&#12415;&#12424;&#12358;">&#38306;&#25968;&#12434;&#20351;&#12387;&#12390;&#12415;&#12424;&#12358;<a class="anchor-link" href="#&#38306;&#25968;&#12434;&#20351;&#12387;&#12390;&#12415;&#12424;&#12358;">&#182;</a></h2><h3 id="np.reshape">np.reshape<a class="anchor-link" href="#np.reshape">&#182;</a></h3><p>Numpyを使っていると、しょっちゅう出会うのがこのreshape関数です。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1, 2, 3, 4],
       [5, 6, 7, 8, 9]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>文字通り、ndarrayのshapeを変更する関数なのですが、２つほど注意する点があります。<br>
一つ目は、全体のsizeを変更しないようにしなければならないということです。<br>
つまり、新しいshapeの各要素を掛け合わせた値が元々の要素の総数を一致する必要があるということです。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#ndarray.sizeは配列に含まれるデータの総数（必ずスカラーになる）</span>
<span class="n">a</span><span class="o">.</span><span class="n">size</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>10</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># total sizeが変化しているので怒られる</span>
<span class="c1"># a.reshape(1000, 100000) ==&gt; ValueError: total size of new array must be unchanged</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>逆に言うと、sizeが同じであるならば、どのようなshapeでも作ることが出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[[[[0, 1, 2, 3, 4]],

         [[5, 6, 7, 8, 9]]]]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>このような変形は、次元の異なる配列同士の計算をするために用いることがあります（<a href="#ブロードキャスト">ブロードキャスト</a>）。<br>
また、reshapeの引数に-1を入れると、sizeを変えないようなshapeを計算してくれます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># reshape(2,5)と等価</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1, 2, 3, 4],
       [5, 6, 7, 8, 9]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>二つ目の注意する点は、reshapeによって返ってくるndarrayは、元々のndarrayと同じメモリを参照している点です。<br>
つまり、reshapeによって返ってきたndarrayを書き換えると、オリジナルも変化するということです。<br>
このような参照をコピーと対比させて、<strong>ビュー</strong>と言います。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">b</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[24]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([100,   1,   2,   3,   4,   5,   6,   7,   8,   9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>科学技術計算の上ではこの性質は重要です。なぜなら、大規模な配列をいちいちreshapeのたびにコピーされると困るからです。<br>
もし、オリジナルを書き換えたくないならば、<strong>copy</strong>関数を使う必要があります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="c1"># copyは複製したndarrayを返す</span>
<span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">b</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(&#30330;&#23637;)-reshape&#12398;&#23455;&#35013;&#12434;&#35443;&#12375;&#12367;&#12415;&#12390;&#12415;&#12427;">(&#30330;&#23637;) reshape&#12398;&#23455;&#35013;&#12434;&#35443;&#12375;&#12367;&#12415;&#12390;&#12415;&#12427;<a class="anchor-link" href="#(&#30330;&#23637;)-reshape&#12398;&#23455;&#35013;&#12434;&#35443;&#12375;&#12367;&#12415;&#12390;&#12415;&#12427;">&#182;</a></h4><p>C言語では、多次元配列であってもメモリ上に連続に配置され、インデックスを１変えたときに参照する位置を１次元の場合よりも大きくジャンプさせることであたかも隣接しているかのように操作することが出来ます。<br>
shapeを変えるということは、ある軸のインデックスが１増えたときにメモリ上への参照を何バイトだけジャンプするかを変更することを意味します。<br>
このジャンプの量を<strong>strides</strong>といいます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">strides</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[26]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(20, 4)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>この例では、変数cの一つ目の軸（axis 0といいます）のインデックスが１増えたとき、メモリの参照を20バイト飛ばすということです。<br>
今、dtypeがint32で一つの変数が4バイトなので、int32型の5個分先に移動することになります。<br>
したがって、b[5]とc[1,0]が（参照しているメモリアドレスについても）等しくなるということです。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># int32型なので一つの値を表現するために４バイト必要</span>
<span class="n">c</span><span class="o">.</span><span class="n">dtype</span> <span class="c1"># ==&gt; dtype(&#39;int32&#39;)</span>

<span class="c1"># 同じ値になる</span>
<span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># ==&gt; 5</span>
<span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="c1"># ==&gt; 5</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[27]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>5</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># cとbは同じデータを共有しているとTrueを返す</span>
<span class="n">c</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">b</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[28]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># コピーされたものはデータを共有しないのでFalseを返す</span>
<span class="n">c</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[29]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>False</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>C言語の多次元配列は、後ろの軸であればあるほどメモリが隣接するような設計になっています。<br>
１次元配列を多次元配列に変更するときには、２つの流派があります。<br>
一つは、C言語と同じように、後ろの軸が隣接するようなもの（<strong>行優先</strong>)と、Fortranのように前の方の軸が隣接するようなもの（<strong>列優先</strong>)です。<br>
reshape関数は、キーワード引数orderがあり、この２つを選べるようになっています。<br>
もちろん、そこまで使う機会はないと思うのですが（デフォルトで十分）、このような実装を理解しておくと、困ったときに対処しやすいと思います。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># C言語での多次元配列（デフォルトの動作）</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[30]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1, 2, 3, 4],
       [5, 6, 7, 8, 9]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Fortranでの多次元配列</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;F&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[31]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 2, 4, 6, 8],
       [1, 3, 5, 7, 9]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="reshape&#38306;&#25968;&#12414;&#12392;&#12417;">reshape&#38306;&#25968;&#12414;&#12392;&#12417;<a class="anchor-link" href="#reshape&#38306;&#25968;&#12414;&#12392;&#12417;">&#182;</a></h4><ul>
<li>sizeを変化させない。引数に-1を使うと便利。</li>
<li>reshapeはコピーではなくビューを返す。コピーしたいときはcopy()を使う。</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Numpy&#12398;&#22522;&#30990;">Numpy&#12398;&#22522;&#30990;<a class="anchor-link" href="#Numpy&#12398;&#22522;&#30990;">&#182;</a></h1><h2 id="ndarray&#12398;&#29983;&#25104;&#38306;&#25968;">ndarray&#12398;&#29983;&#25104;&#38306;&#25968;<a class="anchor-link" href="#ndarray&#12398;&#29983;&#25104;&#38306;&#25968;">&#182;</a></h2><p>色々な配列を作る便利な関数が用意されています。ここではそれらを紹介します。</p>
<h3 id="np.array,-np.asarray">np.array, np.asarray<a class="anchor-link" href="#np.array,-np.asarray">&#182;</a></h3><p>上でも述べた関数です。リストやタプルを引数に取り、配列を返す関数です。<br>
型を指定しない場合は、勝手に推測してくれますが、キーワード引数で指定することも出来ます。
np.asarrayは引数がndarrayであれば、そのままndarrayを返し、そうでないならnp.arrayと同じ働きをする関数です。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># dtypeを指定</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">dtype</span> <span class="c1"># ==&gt; dtype(&#39;float64&#39;)</span>

<span class="c1">#指定しない場合は推測してくれる</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">dtype</span> <span class="c1"># ==&gt; dtype(&#39;int32&#39;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[32]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;int32&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="np.arange">np.arange<a class="anchor-link" href="#np.arange">&#182;</a></h3><p>Python組み込み関数のrange()と同じ働きをする関数で、ndarrayを返します。<br>
stepには小数も入れることが出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 引数が一つの場合、stopのみ。start=0となる</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># ==&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.</span><span class="p">)</span> <span class="c1"># ==&gt; [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9.]</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="c1"># ==&gt; [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9.]</span>

<span class="c1"># 引数が２つの場合、startとstopになる（stopは含まない）</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># ==&gt; [3, 4, 5, 6, 7, 8, 9]</span>

<span class="c1">#引数が３つの場合、start, stop, stepになる</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="c1"># ==&gt; [ 0. ,  0.1,  0.2,  0.3,  0.4,  0.5,  0.6,  0.7,  0.8,  0.9]</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1">#上と等価</span>

<span class="c1"># 整数ステップ</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1"># ==&gt; [ 0,  4,  8, 12, 16]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[33]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0,  4,  8, 12, 16])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="np.ones,-np.ones_like">np.ones, np.ones_like<a class="anchor-link" href="#np.ones,-np.ones_like">&#182;</a></h3><p>np.onesは、引数で与えられたshapeで、全ての要素が１であるようなndarrayを返します。<br>
np.ones_likeは、引数にndarrayを取り、そのndarrayのshapeと同じshapeで全ての要素が１となるndarrayを返します。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#１次元の場合はスカラーを引数に与えることが可能</span>
<span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># ==&gt; [ 1.,  1.,  1.,  1.,  1.]</span>
<span class="c1"># np.ones((5,))と等価</span>

<span class="c1"># 多次元配列の場合、タプルを引数にしなければならない（2×２×２行列）</span>
<span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="c1"># ==&gt; [[[ 1.,  1.],</span>
<span class="c1">#           [ 1.,  1.]],</span>
<span class="c1">#</span>
<span class="c1">#          [[ 1.,  1.],</span>
<span class="c1">#           [ 1.,  1.]]]</span>

<span class="c1">#デフォルトではfloatなので、dtypeをintにしてみる</span>
<span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># ==&gt; [1, 1, 1, 1, 1]</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">A</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># ==&gt; (2, 5)</span>
<span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="c1"># ==&gt; [[1, 1, 1, 1, 1],</span>
<span class="c1">#          [1, 1, 1, 1, 1]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[34]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[1, 1, 1, 1, 1],
       [1, 1, 1, 1, 1]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="np.zeros,-np.zeros_like">np.zeros, np.zeros_like<a class="anchor-link" href="#np.zeros,-np.zeros_like">&#182;</a></h3><p>全ての要素を0にする他は、np.ones, np.ones_likeと同じなのでそちらを見てください。</p>
<h3 id="np.empty,-np.empty_like">np.empty, np.empty_like<a class="anchor-link" href="#np.empty,-np.empty_like">&#182;</a></h3><p>上の２つと似ていますが、こちらは初期化をせずに配列の領域だけを確保する関数です。<br>
巨大な配列を自分で初期化したい場合や、値は何でもいいが配列だけ作りたいときに使います。<br>
初期化のプロセスを省略するためにnp.zerosなどよりも高速に動作します。<br>
ときどき変な値が入ってることがあるので、自分で初期化するときのみ使うのが吉です。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 2048個のbool型の中にあるTrueの個数（実行するたびに変化する）</span>
<span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">2048</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">bool</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[35]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>109</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="np.linspace">np.linspace<a class="anchor-link" href="#np.linspace">&#182;</a></h3><p>start, stopの２つを引数に取り、startからendまで均等に分けた配列を返します。<br>
キーワード引数としてnumがあり、均等に分ける個数を指定できます。デフォルトではnum=50です。</p>
<blockquote><p>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)</p>
</blockquote>
<p>endpointはstopを含むかどうかをboolで渡す引数です。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[36]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.        ,  0.02040816,  0.04081633,  0.06122449,  0.08163265,
        0.10204082,  0.12244898,  0.14285714,  0.16326531,  0.18367347,
        0.20408163,  0.2244898 ,  0.24489796,  0.26530612,  0.28571429,
        0.30612245,  0.32653061,  0.34693878,  0.36734694,  0.3877551 ,
        0.40816327,  0.42857143,  0.44897959,  0.46938776,  0.48979592,
        0.51020408,  0.53061224,  0.55102041,  0.57142857,  0.59183673,
        0.6122449 ,  0.63265306,  0.65306122,  0.67346939,  0.69387755,
        0.71428571,  0.73469388,  0.75510204,  0.7755102 ,  0.79591837,
        0.81632653,  0.83673469,  0.85714286,  0.87755102,  0.89795918,
        0.91836735,  0.93877551,  0.95918367,  0.97959184,  1.        ])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#この２つは等価</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[37]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.        ,  0.34906585,  0.6981317 ,  1.04719755,  1.3962634 ,
        1.74532925,  2.0943951 ,  2.44346095,  2.7925268 ,  3.14159265])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#endpoint=Falseの場合。stopの値を含まない。</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[38]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.        ,  0.31415927,  0.62831853,  0.9424778 ,  1.25663706,
        1.57079633,  1.88495559,  2.19911486,  2.51327412,  2.82743339])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="np.eye,-np.identity">np.eye, np.identity<a class="anchor-link" href="#np.eye,-np.identity">&#182;</a></h3><p>この２つは単位行列を生成する関数で、違いはほとんどありません。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[39]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 1.,  0.,  0.,  0.],
       [ 0.,  1.,  0.,  0.],
       [ 0.,  0.,  1.,  0.],
       [ 0.,  0.,  0.,  1.]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="ndarray&#12395;&#12362;&#12369;&#12427;axis&#12392;&#12399;">ndarray&#12395;&#12362;&#12369;&#12427;axis&#12392;&#12399;<a class="anchor-link" href="#ndarray&#12395;&#12362;&#12369;&#12427;axis&#12392;&#12399;">&#182;</a></h2><p>ndarrayで関数の引数として度々出てくるのが「axis（軸）」です。慣れていないと混乱することもあると思うので説明します。<br>
<a href="http://using-python-in-research.site44.com/numpy-mpl-args">ここ</a>に分かりやすい画像がありましたので引用します。配列の軸の方向が矢印で書かれています。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img  src="axis.png"/></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>例えばndarray.sum関数は、引数にaxisを取ります。この場合のaxisは「和を取る方向」を意味しています。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">A</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[40]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1],
       [2, 3],
       [4, 5]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># axis=0で和を取る（縦方向の和）</span>
<span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># ==&gt; array([6, 9])</span>

<span class="c1"># axis=1で和を取る（横方向の和）</span>
<span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># ==&gt; array([1, 5, 9])</span>

<span class="c1"># axis=Noneで和を取る（全成分の和）</span>
<span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="c1"># A.sum(axis=None)と等価</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[41]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>15</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>上の結果を見てもらえると分かるように、axis=0やaxis=1である軸について和を取ると次元が１つ落ちます。<br>
axisを指定しないとスカラーまで次元が落ちます。このように特定の軸について次元を落とす操作を<strong>Reduction</strong>といいます。<br>
axis=0でReductionを行うと、shapeが(n, m)が (m,)になります。<br>
axisは、潰す軸を指定すると考えると忘れないと思います。</p>
<p>引数にaxisを取るndarrayの主な関数の表がこちらです。より詳細に知りたい方は<a href="https://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html#calculation">ここ</a>を見てください。</p>
<table>
<thead><tr>
<th style="text-align:center">関数名</th>
<th style="text-align:center">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sum</td>
<td style="text-align:center">和</td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center">最大値</td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center">最小値</td>
</tr>
<tr>
<td style="text-align:center">argmax</td>
<td style="text-align:center">最大値を取るインデックス</td>
</tr>
<tr>
<td style="text-align:center">argmin</td>
<td style="text-align:center">最小値を取るインデックス</td>
</tr>
<tr>
<td style="text-align:center">cumsum</td>
<td style="text-align:center">累積和</td>
</tr>
<tr>
<td style="text-align:center">mean</td>
<td style="text-align:center">平均値</td>
</tr>
<tr>
<td style="text-align:center">var</td>
<td style="text-align:center">分散</td>
</tr>
<tr>
<td style="text-align:center">std</td>
<td style="text-align:center">標準偏差</td>
</tr>
<tr>
<td style="text-align:center">all</td>
<td style="text-align:center">全てTrueならTrue</td>
</tr>
<tr>
<td style="text-align:center">any</td>
<td style="text-align:center">一つでもTrueがあればTrue</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Numpy&#12398;&#12487;&#12540;&#12479;&#22411;">Numpy&#12398;&#12487;&#12540;&#12479;&#22411;<a class="anchor-link" href="#Numpy&#12398;&#12487;&#12540;&#12479;&#22411;">&#182;</a></h2><p>既に出てきたように、ndarrayには様々なdtypeが存在します。<br>
基本的には精度の高い型が使われているためにそこまで意識する必要はないかもしれませんが、Cなどと連携するときやバイナリ入出力のときに知らないと困ると思います。<br>
Numpyでの型とそれに対応するC言語、Fortranでの型を表でまとめると以下のようになります。</p>
<table>
<thead><tr>
<th style="text-align:center">型</th>
<th style="text-align:center">説明</th>
<th style="text-align:center">C言語</th>
<th style="text-align:center">Fortran</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">int32 / uint32</td>
<td style="text-align:center">符号あり/なし　32ビット整数型（４バイト）</td>
<td style="text-align:center">long もしくは int</td>
<td style="text-align:center">INTEGER</td>
</tr>
<tr>
<td style="text-align:center">int64 / uint64</td>
<td style="text-align:center">符号あり/なし　64ビット整数型（８バイト）</td>
<td style="text-align:center">long long int</td>
<td style="text-align:center">INTEGER(8)</td>
</tr>
<tr>
<td style="text-align:center">float32</td>
<td style="text-align:center">単精度浮動小数点数型</td>
<td style="text-align:center">float</td>
<td style="text-align:center">REAL もしくはREAL(4)</td>
</tr>
<tr>
<td style="text-align:center">float64</td>
<td style="text-align:center">倍精度浮動小数点数型</td>
<td style="text-align:center">double</td>
<td style="text-align:center">REAL(8)</td>
</tr>
<tr>
<td style="text-align:center">complex64</td>
<td style="text-align:center">実部・虚部それぞれ単精度</td>
<td style="text-align:center">float complex</td>
<td style="text-align:center">COMPLEX もしくは COMPLEX(4)</td>
</tr>
<tr>
<td style="text-align:center">complex128</td>
<td style="text-align:center">実部・虚部それぞれ倍精度</td>
<td style="text-align:center">double complex</td>
<td style="text-align:center">COMPLEX(8)</td>
</tr>
<tr>
<td style="text-align:center">bool</td>
<td style="text-align:center">真偽値（TrueとFalse）</td>
<td style="text-align:center">(bool)</td>
<td style="text-align:center">LOGICAL</td>
</tr>
<tr>
<td style="text-align:center">object</td>
<td style="text-align:center">任意のPythonオブジェクト</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">string_</td>
<td style="text-align:center">固定長文字列型</td>
<td style="text-align:center">char*</td>
<td style="text-align:center">CHARACTER(LEN=○)</td>
</tr>
<tr>
<td style="text-align:center">unicode_</td>
<td style="text-align:center">固定長ユニコード文字列型</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>ndarrayのdtypeのキャストは<strong>astype</strong>を使います。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">a</span> 
<span class="c1"># ==&gt; array([ 0. ,  0.2,  0.4,  0.6,  0.8,  1. ,  1.2,  1.4,  1.6,  1.8])</span>

<span class="n">a</span><span class="o">.</span><span class="n">dtype</span> 
<span class="c1"># ==&gt; dtype(&#39;float64&#39;)</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="n">b</span> 
<span class="c1"># ==&gt; array([0, 0, 0, 0, 0, 1, 1, 1, 1, 1])</span>

<span class="n">b</span><span class="o">.</span><span class="n">dtype</span> 
<span class="c1"># ==&gt; dtype(&#39;int32&#39;)</span>

<span class="c1"># stringからfloatへのキャスト</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;123.&quot;</span><span class="p">,</span> <span class="s2">&quot;-0.0001&quot;</span><span class="p">,</span> <span class="s2">&quot;6.843e256&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[42]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  1.23000000e+002,  -1.00000000e-004,   6.84300000e+256])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;">&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;<a class="anchor-link" href="#&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;">&#182;</a></h2><p>Numpyでは、部分配列の取り出し方に様々な種類があり、使いこなせると便利です。<br>
ただ、取り出し方が<strong>コピー</strong>であるか<strong>ビュー（参照）</strong>であるかを混乱することがあるので、チェックしておいてください。</p>
<h3 id="&#12473;&#12521;&#12452;&#12473;">&#12473;&#12521;&#12452;&#12473;<a class="anchor-link" href="#&#12473;&#12521;&#12452;&#12473;">&#182;</a></h3><p>Pythonのリストやタプルにも実装されているスライスをndarrayに対してするとその部分配列が<strong>ビュー（参照）</strong>で返ってきます。<br>
つまり、その部分配列を書き換えると元々の配列も変わるということです。<br>
スライスは高速に動作するので、使えるときはガンガン使っていきましょう。<br>
一例を見てみます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[43]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># スライスする（２×２行列のビューができる）</span>
<span class="n">arr_sliced</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">arr_sliced</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[44]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 5,  6],
       [ 9, 10]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># スライスした部分配列の要素に全て-1を代入する</span>
<span class="n">arr_sliced</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="c1"># オリジナルの配列</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[45]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0,  1,  2,  3],
       [ 4, -1, -1,  7],
       [ 8, -1, -1, 11],
       [12, 13, 14, 15]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>オリジナル配列のスライスされた部分が全て-1に変わっていることがわかります。<br>
多次元配列のスライスは、一つ一つの軸を順番にスライスしていって小さくなっていくと考えると分かりやすいと思います。<br>
直接ビューに代入することも出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># 一個飛ばし</span>
<span class="n">arr</span><span class="p">[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[46]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[100,   1, 100,   3],
       [  4,   5,   6,   7],
       [100,   9, 100,  11],
       [ 12,  13,  14,  15]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ビューのshapeと同じshapeを持つ配列を使って代入することも出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># ２×２行列で各要素が-50の配列を作る</span>
<span class="n">arr_small</span> <span class="o">=</span> <span class="o">-</span><span class="mi">50</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># インデックス１から一個飛ばし（２×２のスライス）</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr_small</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[47]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[  0,   1,   2,   3],
       [  4, -50,   6, -50],
       [  8,   9,  10,  11],
       [ 12, -50,  14, -50]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>変わってほしくないときは、reshapeの場合と同様に、コピーしなくてはなりません。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 同様のオリジナル配列を作る</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># ndarray.copy関数は自分自身を複製したndarrayを返す</span>
<span class="n">arr_sliced</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 全要素に-1を代入</span>
<span class="n">arr_sliced</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="c1"># オリジナル配列は変化していない</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[48]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>コピーをするともちろんオリジナルは変化しません。</p>
<h4 id="&#20195;&#20837;&#26178;&#12398;&#27880;&#24847;&#28857;">&#20195;&#20837;&#26178;&#12398;&#27880;&#24847;&#28857;<a class="anchor-link" href="#&#20195;&#20837;&#26178;&#12398;&#27880;&#24847;&#28857;">&#182;</a></h4><p>配列に値や配列を代入するときには、意識的にスライスを使うようにした方がいいです。<br>
例えばスカラーを配列の全要素に代入しようとしたとき、スライスを使わないと、配列を表していた変数が、新しく代入しようとしたスカラーを表す変数に置き換わってしまう事があります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># ↓-100をaの全要素に代入するつもりで書いた</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="n">a</span> <span class="c1"># 配列ですらなくなっている！？</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[49]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>-100</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ひと目見ただけでも面倒なバグを生みそうな気配がします。</p>
<p>配列に配列を代入するときはもっと深刻なバグの原因になるので気を付けるべきです。<br>
コピーされたものだと思ってオリジナルを書き換えていると、コピー先が変わっているということが起こり得ます。<br>
このようなバグはスカラーの場合と異なり、気付きにくいエラーなので要注意です。<br>
例えば、配列aの値を配列tempに保存して、aを書き換えたい状況だとします。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># aの要素をtempの要素に代入したつもりだったが・・・</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">a</span>

<span class="c1"># aを書き換えると</span>
<span class="n">a</span><span class="p">[:]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="n">temp</span> <span class="c1"># tempも変わってしまっている</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[50]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>この問題を避けるためには、２つの手段があります。<br>
一つ目は（自分自身だとしても）スライスを使うということです。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># 自分自身のスライスに代入</span>
<span class="n">temp</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">a</span>

<span class="n">a</span><span class="p">[:]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="n">temp</span> <span class="c1"># 値が書き換わっていない</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[51]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>もう一つは、コピーを渡すことです。<br>
前もって配列を用意する必要がないために素早く書ける方法なので、比較的小さな配列であればおすすめ出来ます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># temp = np.empty_like(a)</span>

<span class="c1"># コピーを渡す</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">a</span><span class="p">[:]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="n">temp</span> <span class="c1"># 値が書き換わっていない</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[52]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>コピーを作ることは新しい配列を作るということなので、コンピュータにとっては負担が大きくなる可能性があります。<br>
ただ、まずはこのように素早く書ける方法で書いてみて、そこがプログラムを遅くする原因（ボトルネック）だと分かってから、プログラムの書き換えを行っても良いと思います。Pythonはそもそも高速な動作を失う代わりに柔軟性やコードの短さで勝負している言語です。最初から一番早いものを目指すのではなく、必要であればその部分を高速化するという気持ちでいたほうが有効に使えるはずです。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="&#12501;&#12449;&#12531;&#12471;&#12540;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;">&#12501;&#12449;&#12531;&#12471;&#12540;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;<a class="anchor-link" href="#&#12501;&#12449;&#12531;&#12471;&#12540;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21442;&#29031;">&#182;</a></h3><p>スライスよりも柔軟に部分配列を取り出せるインデックス参照が<strong>ファンシーインデックス参照</strong>です。配列（ndarrayやリスト、タプルなど）をインデックスに入れると、部分配列（コピー）を返すという機能です。<br>
Numpyの使いやすさを格段に上げる機能であり、使う機会も多くなると思います。<br>
ただし、これはビューではなく、コピーを返すことに注意してください。<br>
インデックスに配列を入れることで、対応する軸を抜き出すということをしてくれます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># １次元の場合</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ファンシーインデックス参照の一例</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="p">]</span>
<span class="n">b</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[54]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.125,  0.375,  0.75 ,  0.   ])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 負のインデックスでも良い</span>
<span class="n">a</span><span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[55]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1.  ,  0.  ,  0.75])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># コピーであることの確認</span>
<span class="c1"># bを書き換えたとしても・・・</span>
<span class="n">b</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># 元の配列は変わらない</span>
<span class="n">a</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[56]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.   ,  0.125,  0.25 ,  0.375,  0.5  ,  0.625,  0.75 ,  0.875,  1.   ])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>多次元配列の各軸のインデックスに配列を入れると、その軸を抜き出します。<br>
インデックスに用いるリストによってどのような形状の配列が返ってきているかを確認してください。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 多次元配列を定義</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[57]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># axis 0にリストを入れた場合（arr[2]とarr[1]を抜き出すことになる）</span>
<span class="n">arr</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[58]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[6, 7, 8],
       [3, 4, 5]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># axis 1にリストを入れた場合（arr[:, 2]とarr[:, 0]を抜き出すことになる）</span>
<span class="n">arr</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[59]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[2, 0],
       [5, 3],
       [8, 6]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># axis0, axis1のどちらにも同じ長さのリストを入れた場合</span>
<span class="c1"># arr[2, 2]とarr[1, 0]を抜き出した１次元配列が返ってくる</span>
<span class="n">arr</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[60]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([8, 3])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ファンシーインデックス参照の記法を用いて、代入ができます。<br>
ファンシーインデックス参照そのものはコピーを返すのですが、代入のときはビューに代入しているかのように扱えます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># １次元配列</span>
<span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">arr1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[61]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># スカラーを代入するとすべての要素がその値に置き換わる（スライスと同じような動作）</span>
<span class="n">arr1</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">arr1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[62]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([100,   1, 100, 100,   4,   5,   6,   7, 100,   9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 配列を代入すると、対応する値に置き換わる（shapeが同じである必要がある）</span>
<span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">arr2</span><span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">104</span><span class="p">)</span>
<span class="n">arr2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[63]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  0, 103,   2, 101,   4,   5, 100, 102,   8,   9])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#12518;&#12491;&#12496;&#12540;&#12469;&#12523;&#38306;&#25968;&#65288;ufunc&#65289;">&#12518;&#12491;&#12496;&#12540;&#12469;&#12523;&#38306;&#25968;&#65288;ufunc&#65289;<a class="anchor-link" href="#&#12518;&#12491;&#12496;&#12540;&#12469;&#12523;&#38306;&#25968;&#65288;ufunc&#65289;">&#182;</a></h2><p>Numpyでは、三角関数(np.sinなど）や指数関数（np.exp）のような関数は<strong>ユニバーサル関数オブジェクト（略すとufunc）</strong>になっています。<br>
<a href="https://docs.scipy.org/doc/numpy/reference/ufuncs.html">公式ドキュメント</a>によると、ufuncは、要素ごと（element-by-element）にndarrayへ作用する関数であるという説明があります。<br>
そして、Numpyに標準で入っているufuncは、コンパイルされたC言語で実装されているということも書かれています。<br>
ufuncの関数による計算結果はndarrayで返ってきます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[64]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>numpy.ufunc</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 0からpiまで</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="c1"># ufuncの一つであるnp.sinをxに作用させると、要素ごとにsin関数を作用させたものが配列として返ってくる</span>
<span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[65]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  0.00000000e+00,   3.42020143e-01,   6.42787610e-01,
         8.66025404e-01,   9.84807753e-01,   9.84807753e-01,
         8.66025404e-01,   6.42787610e-01,   3.42020143e-01,
         1.22464680e-16])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ufuncは、Pythonのループの遅さという欠点を補うために生まれ、そしてより便利な機能も追加されています。<br>
例えば、ラジアン（弧度法）から度（度数法）を変換するufuncなどがあります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ラジアンから度への変換</span>
<span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[66]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([   0.,   20.,   40.,   60.,   80.,  100.,  120.,  140.,  160.,  180.])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 引数が二個の例：累乗を要素ごと、1**3, 2**4, 3**1を計算している</span>
<span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[67]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1, 16,  3], dtype=int32)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ufuncはとても数が多いので、<a href="https://docs.scipy.org/doc/numpy/reference/ufuncs.html#available-ufuncs">公式HP</a>を参照してください。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#12502;&#12525;&#12540;&#12489;&#12461;&#12515;&#12473;&#12488;">&#12502;&#12525;&#12540;&#12489;&#12461;&#12515;&#12473;&#12488;<a class="anchor-link" href="#&#12502;&#12525;&#12540;&#12489;&#12461;&#12515;&#12473;&#12488;">&#182;</a></h2><p>形状が違う配列同士の演算をシンプルに書くことができる機能として<strong>ブロードキャスト</strong>があります。<br>
ただ、便利な機能なのですが、なぜそういう書き方をするのかを説明することが難しい機能でもあります。<br>
ブロードキャストを説明しているページとして</p>
<ul>
<li><a href="http://www.kamishima.net/mlmpyja/nbayes2/broadcasting.html">機械学習の Python との出会い　ブロードキャスト</a></li>
<li><a href="http://sucrose.hatenablog.com/entry/2014/12/15/000352">NumPyのブロードキャストのメモ</a></li>
<li><a href="https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html">公式ドキュメント　Broadcasting</a></li>
</ul>
<p>などがあるので、参照してください。</p>
<p>まず、ブロードキャストによって出力されるshapeはどのように決定されるかについてです。<br>
次元が揃っていない場合、小さい次元の配列のshapeに小さい次元から1を付け加えていき、最終的に次元が揃うようにします。<br>
例えば (3, 3) と (3,)を演算しようとした場合、(3,)の左側に1を加えて(1, 3)にすることで次元を揃えるという感じです。<br>
次元が揃った後、２つのndarrayのshapeの各次元を比べていったとき</p>
<ul>
<li>少なくとも一方が1</li>
<li>どちらも1より大きく、それらが等しい</li>
</ul>
<p>のどちらかが全ての次元で成り立っていれば、ブロードキャストが可能になります。<br>
ブロードキャストによって出力される配列のshapeは、各次元で、２つの配列のshapeで大きい方の値となります。<br>
例えば先程の例でいうと、(3, 3), (1, 3)を比べると、上の条件が全ての次元で成り立っているので、ブロードキャスト可能ということになります。<br>
そして出力されるshapeは、各次元の大きい方なので、(3, 3)となります。<br>
ブロードキャスト出来ない例として、(3, 1), (4, 1)などで、これはshape[0]がどちらも１より大きいが、それらが等しくないために出来ません。</p>
<table>
<thead><tr>
<th style="text-align:center">shape1</th>
<th style="text-align:center">shape2</th>
<th style="text-align:center">ブロードキャスト可能性</th>
<th style="text-align:center">出力されるshape</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">(3, 5, 2,)</td>
<td style="text-align:center">(1, 5, 1)</td>
<td style="text-align:center">可能</td>
<td style="text-align:center">(3, 5, 2)</td>
</tr>
<tr>
<td style="text-align:center">(2, 1)</td>
<td style="text-align:center">(1, 8)</td>
<td style="text-align:center">可能</td>
<td style="text-align:center">(2, 8)</td>
</tr>
<tr>
<td style="text-align:center">(9,)</td>
<td style="text-align:center">(9, 8)</td>
<td style="text-align:center">不可能</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">(8,)</td>
<td style="text-align:center">(9, 8)</td>
<td style="text-align:center">可能</td>
<td style="text-align:center">(9, 8)</td>
</tr>
<tr>
<td style="text-align:center">(9, 1)</td>
<td style="text-align:center">(9, 8)</td>
<td style="text-align:center">可能</td>
<td style="text-align:center">(9, 8)</td>
</tr>
</tbody>
</table>
<p>配列のある次元のshapeが1であれば、その次元における計算ではずっとその値を使うことで、コピーする必要がなくなる利点があります。<br>
もしshapeが２つとも同じであれば、計算では対応する位置の値を使うことになります。</p>
<p>例として、２次元配列の列に平均を取り、各列の値から平均を引くという操作を考えます（各列の和が0になる）。<br>
各列の平均を取るという操作は <a href="#ndarrayにおけるaxisとは">axisについての説明</a> を参照してください。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[68]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[0, 1],
       [2, 3],
       [4, 5]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 各列の平均を取る操作 shape=(2, )</span>
<span class="n">arr_mean_col</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">arr_mean_col</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[69]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 2.,  3.])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ２つの配列のshape</span>
<span class="n">arr</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">arr_mean_col</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[70]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>((3, 2), (2,))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>これらはブロードキャスト可能であり、出力配列のshapeは (3, 2)となります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 各列から、その平均を引く（列での和が0になっている）</span>
<span class="n">arr</span> <span class="o">-</span> <span class="n">arr_mean_col</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[71]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[-2., -2.],
       [ 0.,  0.],
       [ 2.,  2.]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ブロードキャストを行う間、arr_mean_colはまるで下の(3, 2)の配列のように振る舞います。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">arr_mean_col</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[72]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 2.,  3.],
       [ 2.,  3.],
       [ 2.,  3.]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>各行からその平均を引く操作もブロードキャストが可能になるようにshapeを変えてやることで可能になります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 各行の平均を取る操作</span>
<span class="n">arr_mean_row</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr_mean_row</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[73]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.5,  2.5,  4.5])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr_mean_row</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[74]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(3,)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>(3, 2)と(3,)はブロードキャスト不可能なので、可能にするためには (3,) を (3, 1)にしてやれば良さそうです。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">-</span> <span class="n">arr_mean_row</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[75]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[-0.5,  0.5],
       [-0.5,  0.5],
       [-0.5,  0.5]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>arr_mean_rowはまるで下のような (3, 2) 配列として扱われます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">arr_mean_row</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[76]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0.5,  0.5],
       [ 2.5,  2.5],
       [ 4.5,  4.5]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>今回はreshapeを用いましたが、後ろに軸を追加するためにはいくつか書き方があり、これらの方がよく使われています。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Noneを後ろの軸に追加</span>
<span class="n">arr_mean_row</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[77]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(3, 1)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># np.newaxisを後ろの軸に追加</span>
<span class="n">arr_mean_row</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[78]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(3, 1)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="C&#35328;&#35486;&#12521;&#12452;&#12502;&#12521;&#12522;&#12398;&#12521;&#12483;&#12497;&#12540;">C&#35328;&#35486;&#12521;&#12452;&#12502;&#12521;&#12522;&#12398;&#12521;&#12483;&#12497;&#12540;<a class="anchor-link" href="#C&#35328;&#35486;&#12521;&#12452;&#12502;&#12521;&#12522;&#12398;&#12521;&#12483;&#12497;&#12540;">&#182;</a></h1><p>Numpyでは、C言語のライブラリをPythonから簡単に呼び出すことができるモジュールが用意されています。<br>
このように、他言語のライブラリの関数をPythonで呼び出せるようにしたものを<strong>ラッパー（wrapper）</strong>といいます（包み込むイメージ）。<br>
これらはNumpyをインポートしたらすぐに使うことが出来ます。<br>
モジュール名をクリックするとNumpy公式ドキュメントに飛ぶようになっています。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#32218;&#24418;&#20195;&#25968;&#65288;np.linalg&#65289;"><a href="https://docs.scipy.org/doc/numpy/reference/routines.linalg.html">&#32218;&#24418;&#20195;&#25968;&#65288;np.linalg&#65289;</a><a class="anchor-link" href="#&#32218;&#24418;&#20195;&#25968;&#65288;np.linalg&#65289;">&#182;</a></h2><p><strong>np.linalg</strong>は、元々Fortranで書かれた<a href="http://www.netlib.org/lapack/"><strong>LAPACK</strong></a>がC言語に変換されたものをラップしたものです。<br>
LAPACKの関数と一対一に対応しているわけではなく、より単純なインターフェイスで呼び出せるようになっています。<br>
逆行列を求めたり、固有値分解、特異値分解など線形代数を網羅するライブラリです（詳細は<a href="https://docs.scipy.org/doc/numpy/reference/routines.linalg.html">公式ドキュメント</a>を参照）。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ３×３の二次元行列</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">A</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[79]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0.67013717,  0.88017044,  0.46222776],
       [ 0.99927822,  0.15219615,  0.60950684],
       [ 0.56421099,  0.75412657,  0.51818007]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 逆行列を求めるinv関数</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="n">B</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[80]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 3.82249666,  1.07923404, -4.67919309],
       [ 1.74586717, -0.8679137 , -0.53647169],
       [-6.70288118,  0.08800238,  7.80543279]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 積を取ると単位行列になる</span>
<span class="n">A</span> <span class="o">@</span> <span class="n">B</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[81]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[  1.00000000e+00,  -6.14004273e-17,  -8.98527960e-16],
       [  2.44340634e-16,   1.00000000e+00,  -1.11398142e-16],
       [  3.64708220e-16,  -1.25212075e-16,   1.00000000e+00]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Numpyの強みの一つとして、１次元配列をスカラーにする計算のように次元が下がる関数であれば、多次元配列を引数に取ることが出来、軸を指定することによって、その軸に沿った一括計算が可能になります。<br>
分かりにくいので例をあげます。<br>
１次元配列をスカラーにするような関数としてノルムを取る<strong>norm</strong>関数があります。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[82]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># normを取る（ようするにユークリッドノルム）</span>
<span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">([</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[82]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>5.0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>このnorm関数に多次元配列を渡し、軸を指定すると、その軸に沿ってノルムを取ります。<br>
つまりその軸がスカラーに縮約され、軸がなくなります。<br>
例えば、shapeが(5, 3)の配列で軸１（横方向）を指定すると、その軸に沿ってノルムが計算され、shapeが(5,)の配列が返されます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[83]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 多次元配列を定義</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[83]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11],
       [12, 13, 14]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[84]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 軸１についてノルム関数を適用する</span>
<span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[84]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  2.23606798,   7.07106781,  12.20655562,  17.3781472 ,  22.56102835])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[85]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 軸１（横方向）を潰すようにノルムを取る</span>
<span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[85]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([  2.23606798,   7.07106781,  12.20655562,  17.3781472 ,  22.56102835])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#20081;&#25968;&#29983;&#25104;&#65288;np.random&#65289;"><a href="https://docs.scipy.org/doc/numpy/reference/routines.random.html">&#20081;&#25968;&#29983;&#25104;&#65288;np.random&#65289;</a><a class="anchor-link" href="#&#20081;&#25968;&#29983;&#25104;&#65288;np.random&#65289;">&#182;</a></h2><p>科学技術計算で広く使われている擬似乱数生成器である<strong>メルセンヌ・ツイスター</strong>をラップしているモジュールです。<br>
高品質でかつ、高速な乱数生成で有名なライブラリです。<br>
np.randomでは、様々な確率分布で乱数を生成できるような関数群が用意されています（<a href="https://docs.scipy.org/doc/numpy/reference/routines.random.html#distributions">Distributions</a>）。<br>
主な関数を表にまとめました。</p>
<table>
<thead><tr>
<th style="text-align:center">関数名</th>
<th style="text-align:center">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">rand</td>
<td style="text-align:center">一様乱数</td>
</tr>
<tr>
<td style="text-align:center">randn</td>
<td style="text-align:center">標準正規分布乱数</td>
</tr>
<tr>
<td style="text-align:center">randint</td>
<td style="text-align:center">整数乱数</td>
</tr>
<tr>
<td style="text-align:center">choice</td>
<td style="text-align:center">与えられたndarrayからランダムに選び出す</td>
</tr>
<tr>
<td style="text-align:center">normal</td>
<td style="text-align:center">正規分布乱数</td>
</tr>
</tbody>
</table>
<p>どの関数もshapeまたはsizeが指定でき、簡単に乱数を生成できます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[86]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># [0, 1)の範囲で一様乱数を求める</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[86]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.17967764,  0.7068499 ,  0.92953582,  0.80482812,  0.84792117,
        0.85941498,  0.2242736 ,  0.32490159,  0.6528407 ,  0.73156256])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[87]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ３×３の標準正規分布乱数</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[87]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([[ 0.75109241, -0.31704502, -0.33061908],
       [-0.52839655,  1.5477789 ,  1.06976356],
       [ 0.29773985,  0.29737256,  0.368155  ]])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[88]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 任意のオブジェクトのリストからランダムに取り出す</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[88]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([&#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;e&#39;, &#39;b&#39;, &#39;a&#39;, &#39;e&#39;, &#39;a&#39;, &#39;d&#39;, &#39;e&#39;], 
      dtype=&#39;&lt;U1&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ガンマ分布のヒストグラム</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10000</span><span class="p">),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#12501;&#12540;&#12522;&#12456;&#22793;&#25563;&#65288;np.fft&#65289;"><a href="https://docs.scipy.org/doc/numpy/reference/routines.fft.html">&#12501;&#12540;&#12522;&#12456;&#22793;&#25563;&#65288;np.fft&#65289;</a><a class="anchor-link" href="#&#12501;&#12540;&#12522;&#12456;&#22793;&#25563;&#65288;np.fft&#65289;">&#182;</a></h2><p>Cooley-Tukey型の高速離散フーリエ変換（FFT)のラッパーです。<br>
フーリエ変換一般に言えることですが、変換と逆変換の係数が実装によって異なります（定数倍するだけですが）。<br>
実装の詳細を知りたい人は <a href="https://docs.scipy.org/doc/numpy/reference/routines.fft.html#implementation-details">Implementation details</a> を参照してください。<br>
下の表は<a href="https://docs.scipy.org/doc/numpy/reference/routines.fft.html#standard-ffts">様々な関数</a>をまとめたものです。</p>
<table>
<thead><tr>
<th style="text-align:center">関数名</th>
<th style="text-align:center">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">fft</td>
<td style="text-align:center">１次元FFT</td>
</tr>
<tr>
<td style="text-align:center">ifft</td>
<td style="text-align:center">↑の逆変換</td>
</tr>
<tr>
<td style="text-align:center">rfft</td>
<td style="text-align:center">１次元実FFT</td>
</tr>
<tr>
<td style="text-align:center">irfft</td>
<td style="text-align:center">↑の逆変換</td>
</tr>
<tr>
<td style="text-align:center">fft2</td>
<td style="text-align:center">２次元FFT</td>
</tr>
<tr>
<td style="text-align:center">ifft2</td>
<td style="text-align:center">↑の逆変換</td>
</tr>
<tr>
<td style="text-align:center">rfft2</td>
<td style="text-align:center">２次元実FFT</td>
</tr>
<tr>
<td style="text-align:center">irfft2</td>
<td style="text-align:center">↑の逆変換</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># FFT</span>
<span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">fft</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[90]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 13.00000000+0.j        ,  -4.23606798-3.07768354j,
         0.23606798+0.72654253j,   0.23606798-0.72654253j,
        -4.23606798+3.07768354j])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 実FFT</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfft</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[91]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 13.00000000+0.j        ,  -4.23606798-3.07768354j,
         0.23606798+0.72654253j])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[92]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 逆実FFT</span>
<span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">irfft</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[92]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1.19098301,  4.72982477,  5.42705098,  1.65214124])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 逆実フーリエ変換</span>
<span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">irfft</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[93]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1.,  3.,  5.,  3.,  1.])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>信号処理の一例です。<br>
フィルターなどの高度な信号処理は<a href="https://docs.scipy.org/doc/scipy/reference/signal.html"><strong>scipy.signal</strong></a>を用いてください。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[94]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># サンプリング周波数（ナイキスト周波数＝10Hz）</span>
<span class="n">rate</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># [1/s]</span>

<span class="c1"># サンプル時刻 [s]</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">rate</span><span class="p">)</span>

<span class="c1"># 2Hzと6Hzにピークを持つシグナル（に正規分布ノイズを加えたもの）</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mi">6</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

<span class="c1"># power spectrum</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfft</span><span class="p">(</span><span class="n">signal</span><span class="p">))</span>

<span class="c1"># サンプリングレート（の逆数）を与えると各成分の周波数を返す</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfftfreq</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">rate</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency [Hz]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Power spectrum&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[94]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&lt;matplotlib.lines.Line2D at 0x1b325302358&gt;]</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="ndarray&#12398;&#12501;&#12449;&#12452;&#12523;&#20837;&#20986;&#21147;">ndarray&#12398;&#12501;&#12449;&#12452;&#12523;&#20837;&#20986;&#21147;<a class="anchor-link" href="#ndarray&#12398;&#12501;&#12449;&#12452;&#12523;&#20837;&#20986;&#21147;">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Numpyでファイル出力する場合、</p>
<ul>
<li>「.npyまたは.npz」形式でのバイナリ保存</li>
<li>テキストでの保存</li>
<li>一般的なバイナリ保存</li>
</ul>
<p>の３つが基本となります。本稿では上の２つを説明します。</p>
<h2 id="npy&#12392;npz&#24418;&#24335;&#12391;&#12398;&#12496;&#12452;&#12490;&#12522;&#20445;&#23384;">npy&#12392;npz&#24418;&#24335;&#12391;&#12398;&#12496;&#12452;&#12490;&#12522;&#20445;&#23384;<a class="anchor-link" href="#npy&#12392;npz&#24418;&#24335;&#12391;&#12398;&#12496;&#12452;&#12490;&#12522;&#20445;&#23384;">&#182;</a></h2><p>これらはNumpy独自のバイナリ形式です。<br>
<strong>np.save</strong>関数では、ndarrayを <strong>npy</strong> という拡張子を付けて保存します。<br>
この形式だと、配列のshapeやdtypeなどの情報も保存するので、<strong>np.load</strong>で情報を保ったまま読み込むことが出来ます。<br>
複数のndarrayを保存するときは <strong>np.savez</strong> 関数を用いて、<strong>npz</strong> という拡張子で保存します。<br>
npz形式の場合のロードも <strong>np.load</strong> 関数を使います（拡張子で判断される）。<br>
まずはnpyの保存をみてみましょう。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[95]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># arrをnpy形式で保存</span>
<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;test_arr.npy&quot;</span><span class="p">,</span> <span class="n">arr</span><span class="p">)</span>

<span class="c1"># npyをロード</span>
<span class="n">arr_new</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;test_arr.npy&quot;</span><span class="p">)</span>

<span class="c1"># 全ての要素が等しいならTrue</span>
<span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">arr</span> <span class="o">==</span> <span class="n">arr_new</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[95]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>npzでは、キーワード引数を渡すと、その名前で保存されます。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[96]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>
<span class="n">my_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="c1"># キーワード引数でndarrayをsavezに渡す</span>
<span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="s2">&quot;test_arrs.npz&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">my_x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">my_y</span><span class="p">)</span>

<span class="n">arrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;test_arrs.npz&quot;</span><span class="p">)</span>

<span class="n">arrs</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[96]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.        ,  0.00137174,  0.01097394,  0.03703704,  0.0877915 ,
        0.17146776,  0.2962963 ,  0.47050754,  0.70233196,  1.        ])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#12486;&#12461;&#12473;&#12488;&#12391;&#12398;&#20445;&#23384;">&#12486;&#12461;&#12473;&#12488;&#12391;&#12398;&#20445;&#23384;<a class="anchor-link" href="#&#12486;&#12461;&#12473;&#12488;&#12391;&#12398;&#20445;&#23384;">&#182;</a></h2><p>ndarrayをテキスト形式で保存する関数は<strong>np.savetxt</strong>です。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[97]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ２次元配列</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># xをテキスト形式で保存</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s2">&quot;my_np.txt&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[98]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 保存したテキストファイルを表示</span>
<span class="o">!</span>cat my_np.txt
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0.000000000000000000e+00 1.111111111111111049e-01
2.222222222222222099e-01 3.333333333333333148e-01
4.444444444444444198e-01 5.555555555555555802e-01
6.666666666666666297e-01 7.777777777777776791e-01
8.888888888888888395e-01 1.000000000000000000e+00
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>np.loadtxt</strong>は、csvなどを読み込めます。欠損値を含む場合は、より高機能な<strong>np.genfromtxt</strong>を使うと良いです。</p>

</div>
</div>
</div>
 



        </div>
      </div>
    </div>

		<div class="w3-row-padding w3-padding w3-left-aligned w3-panel">
			<div class="w3-half w3-padding w3-container">
				<h2 class="w3-xxlarge w3-padding w3-blue">基礎編</h2>
				<div class="w3-padding">
					<p><a href="/html/基礎編/Pythonの基礎1.html">Pythonの基礎（１）</a></p>
					<p><a href="/html/基礎編/Pythonの基礎2.html">Pythonの基礎（２）</a></p>
					<p><a href="/html/基礎編/Matplotlib.html">Matplotlib</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（１）導入.html">Numpyの基礎 ― 導入</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（２）生成関数.html">Numpyの基礎 ― 生成関数</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（３）ufunc.html">Numpyの基礎 ― 配列に関数を作用させる</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（４）データ型.html">Numpyの基礎 ― データ型（C,Fortranとの比較）</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（５）要素の参照.html">Numpyの基礎 ― 要素の取り出し方</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（６）ブロードキャスト.html">Numpyの基礎 ― ブロードキャスト</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（７）便利なライブラリ群.html">Numpyの基礎 ― 線形代数やフーリエ変換</a></p>
					<p><a href="/html/基礎編/Numpyの基礎（８）ファイル入出力.html">Numpyの基礎 ― 様々な形式に対応したファイル入出力</a></p>
					<p><a href="/html/基礎編/ファイル読み込み.html">ファイル読み込み</a></p>
					<p><a href="/html/基礎編/文字列操作（１）str.format.html">文字列操作 ― 数値を文字列にフォーマットする</a></p>
					<p><a href="/html/基礎編/文字列操作（２）strやファイル読み込み.html">文字列操作 ― 文字列に関数を適用する</a></p>
					<p><a href="/html/基礎編/読みやすいPythonコードを書こう.html">読みやすいPythonコードを書こう</a></p>
				</div>
			</div>
			<div class="w3-half w3-padding w3-container">
				<h2 class="w3-xxlarge w3-padding w3-orange">応用編</h2>
				<div class="w3-padding">
					<p><a href="/html/応用編/Animation.html">Animation</a></p>
					<p><a href="/html/応用編/Fortran, C言語 との連携.html">Fortran, C言語 との連携</a></p>
					<p><a href="/html/応用編/Pandas―データ分析（１）Series.html">Pandas ― データ分析（１）時系列などをうまく扱えるようにする</a></p>
					<p><a href="/html/応用編/Pandas―データ分析（２）DataFrame.html">Pandas ― データ分析（２）複数の列を持った表形式でデータを格納する</a></p>
					<p><a href="/html/応用編/Pandas―データ分析（３）GroupBy.html">Pandas ― データ分析（３）データを分割し、個別に集計する</a></p>
					<p><a href="/html/応用編/Pandas―データ分析（４）ファイル入出力.html">Pandas ― データ分析（４）高度なファイル入出力</a></p>
					<p><a href="/html/応用編/Pandas―データ分析（５）応用：都道府県別人口推移.html">Pandas ― データ分析（５）応用：都道府県別人口推移</a></p>
					<p><a href="/html/応用編/Seaborn ― matplotlib をより美しく、使いやすく.html">Seaborn ― matplotlib をより美しく、使いやすく</a></p>
					<p><a href="/html/応用編/shやBashの代わりにPythonを使う.html">shやBashの代わりにPythonを使う</a></p>
					<p><a href="/html/応用編/SymPyー代数演算（１）使い方.html">SymPy ― 代数演算（１）文字を文字のまま計算する</a></p>
					<p><a href="/html/応用編/SymPyー代数演算（２）応用：二重振り子.html">SymPy ― 代数演算（２）応用：ラグランジアンから運動方程式を求めて二重振り子を解く</a></p>
				</div>
			</div>
		</div>

    <div class="footer-button-container">
      <div class="w3-panel w3-center">
        <h4><a class="w3-button w3-black" href='/'>トップページに戻る</a></h4>
      </div>
    </div>

</body>

 


</html>