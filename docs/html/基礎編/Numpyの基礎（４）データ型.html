<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Numpyの基礎（４）データ型</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115860818-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115860818-2');
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" type="text/css" href="/css/notebook-000.css">
<link rel="stylesheet" type="text/css" href="/css/notebook-001.css">



<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">
    <h4><a href='/'>トップページに戻る</a></h4>
    <h1>Numpyの基礎（４）データ型</h1>


<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#30446;&#27425;">&#30446;&#27425;<a class="anchor-link" href="#&#30446;&#27425;">&#182;</a></h1><ul>
<li><a href="#Numpyのデータ型">Numpyのデータ型</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Numpy&#12398;&#12487;&#12540;&#12479;&#22411;">Numpy&#12398;&#12487;&#12540;&#12479;&#22411;<a class="anchor-link" href="#Numpy&#12398;&#12487;&#12540;&#12479;&#22411;">&#182;</a></h2><p>既に出てきたように、ndarrayには様々なdtypeが存在します。<br>
Cなどと連携するときやバイナリ入出力のときに知らないと困ると思います。<br>
Numpyでの型とそれに対応するC言語、Fortranでの型を表でまとめると以下のようになります。</p>
<table>
<thead><tr>
<th style="text-align:center">型</th>
<th style="text-align:center">説明</th>
<th style="text-align:center">C言語</th>
<th style="text-align:center">Fortran</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">int32 / uint32</td>
<td style="text-align:center">符号あり/なし　32ビット整数型（４バイト）</td>
<td style="text-align:center">long もしくは int</td>
<td style="text-align:center">INTEGER</td>
</tr>
<tr>
<td style="text-align:center">int64 / uint64</td>
<td style="text-align:center">符号あり/なし　64ビット整数型（８バイト）</td>
<td style="text-align:center">long long int</td>
<td style="text-align:center">INTEGER(8)</td>
</tr>
<tr>
<td style="text-align:center">float32</td>
<td style="text-align:center">単精度浮動小数点数型</td>
<td style="text-align:center">float</td>
<td style="text-align:center">REAL もしくはREAL(4)</td>
</tr>
<tr>
<td style="text-align:center">float64</td>
<td style="text-align:center">倍精度浮動小数点数型</td>
<td style="text-align:center">double</td>
<td style="text-align:center">REAL(8)</td>
</tr>
<tr>
<td style="text-align:center">complex64</td>
<td style="text-align:center">実部・虚部それぞれ単精度</td>
<td style="text-align:center">float complex</td>
<td style="text-align:center">COMPLEX もしくは COMPLEX(4)</td>
</tr>
<tr>
<td style="text-align:center">complex128</td>
<td style="text-align:center">実部・虚部それぞれ倍精度</td>
<td style="text-align:center">double complex</td>
<td style="text-align:center">COMPLEX(8)</td>
</tr>
<tr>
<td style="text-align:center">bool</td>
<td style="text-align:center">真偽値（TrueとFalse）</td>
<td style="text-align:center">(bool)</td>
<td style="text-align:center">LOGICAL</td>
</tr>
<tr>
<td style="text-align:center">object</td>
<td style="text-align:center">任意のPythonオブジェクト</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">string_</td>
<td style="text-align:center">固定長文字列型</td>
<td style="text-align:center">char*</td>
<td style="text-align:center">CHARACTER(LEN=○)</td>
</tr>
<tr>
<td style="text-align:center">unicode_</td>
<td style="text-align:center">固定長ユニコード文字列型</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>ndarrayのdtypeのキャストは<strong>astype</strong>を使います。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">a</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0. , 0.2, 0.4, 0.6, 0.8, 1. , 1.2, 1.4, 1.6, 1.8])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dtype(&#39;float64&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span> <span class="c1"># ４バイト整数にキャスト</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 0, 0, 0, 0, 1, 1, 1, 1, 1])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span> <span class="c1"># 倍精度複素数にキャスト</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0. +0.j, 0.2+0.j, 0.4+0.j, 0.6+0.j, 0.8+0.j, 1. +0.j, 1.2+0.j,
       1.4+0.j, 1.6+0.j, 1.8+0.j])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 文字列を小数に変換</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;1.&#39;</span><span class="p">,</span> <span class="s1">&#39;-0.001&#39;</span><span class="p">,</span> <span class="s1">&#39;6.823e256&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([ 1.000e+000, -1.000e-003,  6.823e+256])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 要素のバイト数（倍精度浮動小数点数なので8バイト）</span>
<span class="n">a</span><span class="o">.</span><span class="n">strides</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(8,)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 倍精度複素数なので16バイト</span>
<span class="n">a</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">complex128</span><span class="p">)</span><span class="o">.</span><span class="n">strides</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(16,)</pre>
</div>

</div>

</div>
</div>

</div>
 


    <h4><a href='/'>トップページに戻る</a></h4>
    </div>
  </div>
</body>

 


</html>